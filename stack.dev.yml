provider:
  name: openfaas
  gateway: http://127.0.0.1:8080

functions:
  jobs:
    lang: dockerfile
    handler: ./packages/openfaas-job-util-jobs
    image: pyramation/openfaas-job-util-jobs:latest
    environment:
      GATEWAY_URL: gateway-external.openfaas.svc.cluster.local:8080
      INTERNAL_GATEWAY_URL: gateway.openfaas.svc.cluster.local:8080
      scale_from_zero: true
      inactivity_duration: 1m
  example-fn:
    lang: dockerfile
    handler: ./packages/openfaas-job-example
    image: pyramation/openfaas-job-example:latest
    environment:
      GATEWAY_URL: gateway-external.openfaas.svc.cluster.local:8080
      INTERNAL_GATEWAY_URL: gateway.openfaas.svc.cluster.local:8080
      scale_from_zero: true
      inactivity_duration: 1m
